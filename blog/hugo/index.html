<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon type=image/png href=/images/terminalIcon.png sizes="16x16 32x32"><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css integrity=sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/brands.min.css integrity="sha512-WxpJXPm/Is1a/dzEdhdaoajpgizHQimaLGL/QqUIAjIihlQqlPQb1V9vkGs9+VzXD7rgI6O+UsSKl4u5K36Ydw==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=/css/terminal.css><title>Hugo</title></head><body><div class=container-fluid><div class=row><div id=terminal><div class=toolbar><a href=/><img src=/images/terminalIcon.png alt="terminal window" width=20 height=20></a>
<span id=titleWindow><center>ryan@hartje.io</center></span><ul><li><i class=icon-remove-sign id=closeTerminal></i></li><li><i class="icon-minus-sign minimizeTerminal"></i></li></ul></div><div class=terminalWindow><div class=row><div class=terminal><article><h1>Hugo</h1><p>This site is powered by <code>hugo</code>. I love the simplicity of writing markdown, pushing it to <a href=https://github.com/goshlanguage/hartje.io/>this repo</a>, and having that transpiled into HTML through a github action. There are a lot of tools in this space, such as the popular <code>Sphinx</code>, <code>Mkdocs</code>, and <code>Jekyll</code>.</p><p>I chose <code>hugo</code> specifically for how little setup was needed for a self publishing repo to manage my site on Github Pages. Using this service, the project&rsquo;s url becomes <code>&lt;YOUR USERNAME>.github.io</code>, or <code>&lt;YOUR USERNAME>.github.io/&lt;YOUR PROJECT>/</code>, and supports custom domains.</p><p>For more information, see:</p><ul><li><a href=https://gohugo.io/hosting-and-deployment/hosting-on-github/>setup hugo on github pages</a></li><li><a href=https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/managing-a-custom-domain-for-your-github-pages-site#configuring-an-apex-domain>configure a custom domain</a></li><li><a href=https://docs.github.com/en/pages/getting-started-with-github-pages/creating-a-github-pages-site>getting started with github pages</a></li></ul><p>To get started, create the repo, and <code>brew install hugo</code> if it&rsquo;s not already available.</p><blockquote><p>NOTE: name this repo <code>&lt;YOUR USERNAME>.github.io</code> for your personal username repo, otherwise if you&rsquo;re bringing your own repo, you can use whatever name you want</p></blockquote><h2 id=initializing-the-project>Initializing the project</h2><p>Hugo will scaffold out your site for:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>hugo new site hartje.io
</span></span><span style=display:flex><span>cd hartje.io
</span></span></code></pre></div><p>Next, <a href=https://themes.gohugo.io/>find a theme</a> you like, then click the <code>Download</code> button find it&rsquo;s git repo. You now need to add it as a git <code>submodule</code>, and then <code>init</code> the submodule so it&rsquo;s tracked in your source code. That might practically look like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git submodule add https://github.com/Wtoll/venture.git themes/venture --depth<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>git submodule update --init --recursive <span style=color:#75715e># needed when you reclone your repo (submodules may not get cloned automatically)</span>
</span></span></code></pre></div><h3 id=configuring-hugo>Configuring Hugo</h3><p>Hugo has a lot of configuration options. You can configure hugo by creating a <code>./config.toml</code> file, or even in whichever format you prefer out of <code>yaml</code>, <code>toml</code>, and <code>json</code>.</p><h3 id=setup-github-pages-in-your-repo-settings>Setup Github Pages in your repo settings</h3><blockquote><p>By default, the GitHub action pushes the generated content to the <code>gh-pages</code> branch. This means GitHub has to serve your <code>gh-pages</code> branch as a GitHub Pages branch. You can change this setting by going to <code>Settings > GitHub Pages</code>, and change the source branch to <code>gh-pages</code>.</p></blockquote><p>Source: <a href=https://gohugo.io/hosting-and-deployment/hosting-on-github/>Hugo - Hosting on Github</a></p><h3 id=custom-domains>Custom Domains</h3><p>If you&rsquo;re bringing your own DNS, be sure to add your domain to <code>/static/CNAME</code>, as a requirement for <code>Github Pages</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>echo <span style=color:#e6db74>&#34;hartje.io&#34;</span> &gt; static/CNAME
</span></span></code></pre></div><p><code>/static/CNAME</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>hartje.io
</span></span></code></pre></div><h3 id=create-a-post>Create a post</h3><p><code>hugo</code> also has a scaffold for posts. To create a new post run:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>hugo new mypost.md
</span></span><span style=display:flex><span><span style=color:#75715e># or alternatively, you can nest your posts in directories</span>
</span></span><span style=display:flex><span><span style=color:#75715e># hugo new mydir/mypost.md</span>
</span></span></code></pre></div><p>The created markdown files will be in the <code>content/</code> folder.</p><h2 id=automatically-publish-changes-to-github-pages>Automatically publish changes to Github Pages</h2><p>We can make quick work of an automated deployment for our site, by adopting this simple github workflow. Add this <code>.github/workflows/gh-pages.yaml</code> and push your branch to set it up.</p><p><code>/.github/workflows/gh-pages.yaml</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>name</span>: <span style=color:#ae81ff>github pages</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>on</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>push</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>branches</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>main </span> <span style=color:#75715e># Set a branch to deploy</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>pull_request</span>:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>jobs</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>deploy</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>runs-on</span>: <span style=color:#ae81ff>ubuntu-20.04</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>steps</span>:
</span></span><span style=display:flex><span>      - <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/checkout@v2</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>submodules</span>: <span style=color:#66d9ef>true</span>  <span style=color:#75715e># Fetch Hugo themes (true OR recursive)</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>fetch-depth</span>: <span style=color:#ae81ff>0</span>    <span style=color:#75715e># Fetch all history for .GitInfo and .Lastmod</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Setup Hugo</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>peaceiris/actions-hugo@v2</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>hugo-version</span>: <span style=color:#e6db74>&#39;latest&#39;</span>
</span></span><span style=display:flex><span>          <span style=color:#75715e># extended: true</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Build</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>run</span>: <span style=color:#ae81ff>hugo --minify</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Deploy</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>peaceiris/actions-gh-pages@v3</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>if</span>: <span style=color:#ae81ff>github.ref == &#39;refs/heads/main&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>github_token</span>: <span style=color:#ae81ff>${{ secrets.GITHUB_TOKEN }}</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>publish_dir</span>: <span style=color:#ae81ff>./public</span>
</span></span></code></pre></div><h2 id=customizing-hugo>Customizing Hugo</h2><p>First, here is a wonderful tutorial for <a href=https://www.banjocode.com/post/hugo/custom-css/>adding custom css or javascript to your hugo site</a> from <code>banjocode</code>.</p><p>If you&rsquo;d like to customize your <code>hugo</code> site layout, then first take a look at the structure of our theme:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>tree themes/venture
</span></span><span style=display:flex><span>themes/venture
</span></span><span style=display:flex><span>├── LICENSE
</span></span><span style=display:flex><span>├── README.md
</span></span><span style=display:flex><span>├── archetypes
</span></span><span style=display:flex><span>│   └── default.md
</span></span><span style=display:flex><span>├── assets
</span></span><span style=display:flex><span>│   └── sass
</span></span><span style=display:flex><span>│       └── main.sass
</span></span><span style=display:flex><span>├── images
</span></span><span style=display:flex><span>│   ├── screenshot.png
</span></span><span style=display:flex><span>│   └── tn.png
</span></span><span style=display:flex><span>├── layouts
</span></span><span style=display:flex><span>│   ├── 404.html
</span></span><span style=display:flex><span>│   ├── _default
</span></span><span style=display:flex><span>│   │   ├── baseof.html
</span></span><span style=display:flex><span>│   │   ├── list.html
</span></span><span style=display:flex><span>│   │   └── single.html
</span></span><span style=display:flex><span>│   ├── about
</span></span><span style=display:flex><span>│   │   └── list.html
</span></span><span style=display:flex><span>│   ├── index.html
</span></span><span style=display:flex><span>│   └── partials
</span></span><span style=display:flex><span>│       ├── footer.html
</span></span><span style=display:flex><span>│       ├── head.html
</span></span><span style=display:flex><span>│       └── header.html
</span></span><span style=display:flex><span>├── static
</span></span><span style=display:flex><span>│   └── images
</span></span><span style=display:flex><span>│       └── blank.png
</span></span><span style=display:flex><span>└── theme.toml
</span></span></code></pre></div><p>You might recognize that the theme repo&rsquo;s structure matches the one scaffolded by <code>hugo</code>. <code>hugo</code> will prefer a root level file, should the theme have a conflicting file, so we can explore what all we can change and experiment by copying to the root level and modifying it.</p><p>For instance, if we wanted to update the <code>layouts/partials/footer.html</code>, we&rsquo;d want to first copy the theme&rsquo;s into our root level <code>layouts/partials</code>, then modify the file in <code>/layouts/partials/footer.html</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>mkdir -p layouts/partials
</span></span><span style=display:flex><span>cp themes/venture/layouts/partials/footer.html layouts/partials/footer.html
</span></span></code></pre></div></article></div></div></div></div></div></div></body></html>